#!/bin/bash

echo "Erasing previous coverage data..."
coverage erase

echo "Running tests with coverage collection..."
coverage run -m pytest -vv

echo "Generating coverage report with missing lines..."
coverage report -m > coverage_report.txt 2>&1

echo "Running pytest test collection only..."
pytest --collect-only -q > pytest_collect.txt 2>&1

echo "Done. Reports generated:"
echo " - coverage_report.txt"
echo " - pytest_collect.txt"
